{
    "swagger": "2.0",
    "info": {
        "description": "Platform Wallet Point Gamifikasi Kampus - Backend API",
        "version": "1.0",
        "title": "Wallet Point API",
        "contact": {
            "name": "API Support",
            "email": "support@campus.edu"
        }
    },
    "host": "localhost:8102",
    "basePath": "/api/v1",
    "schemes": [
        "http"
    ],
    "securityDefinitions": {
        "BearerAuth": {
            "type": "apiKey",
            "name": "Authorization",
            "in": "header",
            "description": "Enter your bearer token in the format: Bearer <token>"
        }
    },
    "paths": {
        "/auth/login": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "User Login",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "email": {
                                    "type": "string",
                                    "example": "mahasiswa@campus.edu"
                                },
                                "password": {
                                    "type": "string",
                                    "example": "mahasiswa123"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Login successful"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                }
            }
        },
        "/auth/register": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Register Mahasiswa",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "full_name": {
                                    "type": "string",
                                    "example": "John Doe"
                                },
                                "email": {
                                    "type": "string",
                                    "example": "john@campus.edu"
                                },
                                "password": {
                                    "type": "string",
                                    "example": "password123"
                                },
                                "nim_nip": {
                                    "type": "string",
                                    "example": "12345678"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created"
                    }
                }
            }
        },
        "/auth/me": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "tags": [
                    "Authentication"
                ],
                "summary": "Get Current User Profile",
                "responses": {
                    "200": {
                        "description": "Success"
                    }
                }
            }
        },
        "/auth/profile": {
            "put": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "tags": [
                    "Authentication"
                ],
                "summary": "Update Profile",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "full_name": {
                                    "type": "string"
                                },
                                "email": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Updated"
                    }
                }
            }
        },
        "/auth/password": {
            "put": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "tags": [
                    "Authentication"
                ],
                "summary": "Change Password",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "old_password": {
                                    "type": "string"
                                },
                                "new_password": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Password updated"
                    }
                }
            }
        },
        "/mahasiswa/wallet": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "tags": [
                    "Mahasiswa - Wallet"
                ],
                "summary": "Get My Wallet Balance",
                "responses": {
                    "200": {
                        "description": "Success"
                    }
                }
            }
        },
        "/mahasiswa/transactions": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "tags": [
                    "Mahasiswa - Wallet"
                ],
                "summary": "Get My Transaction History",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "type": "integer",
                        "default": 1
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "type": "integer",
                        "default": 20
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success"
                    }
                }
            }
        },
        "/mahasiswa/missions": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "tags": [
                    "Mahasiswa - Missions"
                ],
                "summary": "Get Active Missions",
                "responses": {
                    "200": {
                        "description": "Success"
                    }
                }
            }
        },
        "/mahasiswa/missions/submit": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "tags": [
                    "Mahasiswa - Missions"
                ],
                "summary": "Submit Mission",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "mission_id": {
                                    "type": "integer"
                                },
                                "content": {
                                    "type": "string"
                                },
                                "file_url": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Submitted"
                    }
                }
            }
        },
        "/mahasiswa/transfer": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "tags": [
                    "Mahasiswa - Transfer"
                ],
                "summary": "Transfer Points",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "recipient_id": {
                                    "type": "integer"
                                },
                                "amount": {
                                    "type": "number"
                                },
                                "pin": {
                                    "type": "string"
                                },
                                "description": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Transfer successful"
                    }
                }
            }
        },
        "/mahasiswa/marketplace/products": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "tags": [
                    "Mahasiswa - Marketplace"
                ],
                "summary": "Browse Products",
                "responses": {
                    "200": {
                        "description": "Success"
                    }
                }
            }
        },
        "/mahasiswa/marketplace/purchase": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "tags": [
                    "Mahasiswa - Marketplace"
                ],
                "summary": "Purchase Product",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "product_id": {
                                    "type": "integer"
                                },
                                "quantity": {
                                    "type": "integer"
                                },
                                "pin": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Purchase successful"
                    }
                }
            }
        },
        "/admin/users": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "tags": [
                    "Admin - Users"
                ],
                "summary": "Get All Users",
                "responses": {
                    "200": {
                        "description": "Success"
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "tags": [
                    "Admin - Users"
                ],
                "summary": "Create User",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "full_name": {
                                    "type": "string"
                                },
                                "email": {
                                    "type": "string"
                                },
                                "password": {
                                    "type": "string"
                                },
                                "role": {
                                    "type": "string",
                                    "enum": [
                                        "admin",
                                        "dosen",
                                        "mahasiswa"
                                    ]
                                },
                                "nim_nip": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "User Created"
                    }
                }
            }
        },
        "/admin/wallets": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "tags": [
                    "Admin - Wallets"
                ],
                "summary": "Get All Wallets",
                "responses": {
                    "200": {
                        "description": "Success"
                    }
                }
            }
        },
        "/admin/wallet/adjustment": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "tags": [
                    "Admin - Wallets"
                ],
                "summary": "Adjust User Balance",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "user_id": {
                                    "type": "integer"
                                },
                                "amount": {
                                    "type": "number"
                                },
                                "type": {
                                    "type": "string",
                                    "enum": [
                                        "credit",
                                        "debit",
                                        "adjustment"
                                    ]
                                },
                                "description": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Adjustment successful"
                    }
                }
            }
        },
        "/dosen/missions": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "tags": [
                    "Dosen - Missions"
                ],
                "summary": "Create Mission",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "title": {
                                    "type": "string"
                                },
                                "description": {
                                    "type": "string"
                                },
                                "type": {
                                    "type": "string",
                                    "enum": [
                                        "quiz",
                                        "task",
                                        "assignment"
                                    ]
                                },
                                "points_reward": {
                                    "type": "number"
                                },
                                "deadline": {
                                    "type": "string",
                                    "format": "date-time"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Mission created"
                    }
                }
            },
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "tags": [
                    "Dosen - Missions"
                ],
                "summary": "Get My Missions",
                "responses": {
                    "200": {
                        "description": "Success"
                    }
                }
            }
        },
        "/dosen/submissions": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "tags": [
                    "Dosen - Submissions"
                ],
                "summary": "Get Student Submissions",
                "responses": {
                    "200": {
                        "description": "Success"
                    }
                }
            }
        }
    }
}